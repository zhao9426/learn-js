<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /*    //函数
     function foo(x,y){
         if(typeof x==='number'&&
         typeof y==='number'){
             return x+y;
         }else{
             return 0;
         }
     } 
     console.log(foo(1,2));   */
      /*   //变量&声明前置
        // var num = add(1, 2);
        // console.log(num);//6
        // function add(a, b) {
        //     a += a;
        //     b += b;
        //     if (isNaN(a) || isNaN(b)) {
        //         return;
        //     }
        //     return a + b;
        // }

        // var num=add(1,2);
        // console.log(num);//Uncaught TypeError: add is not a function

        // var add=function(a,b){
        //     a += a;
        //     b += b;
        //     if (isNaN(a) || isNaN(b)) {
        //         return;
        //     }
        //     return a + b;
        // } */

/* //命名函数表达式
var func=function nfe(){};
alert(func===nfe);
//递归调用
var func=function nef(){
    nfe();
}
 */
 /* //Function构造器
var func=new Function('a','b','console.log(a+b)');//localVal仍为局部变量
func(1,2);//3
var func=Function('a','b','console.log(a+b)');
func(1,2);//3

Function('var localVal="local";console.log(localVal);')();
console.log(typeof localVal);
var globalVal='global';
(function(){
    var localVal='local';//local不可访问，全局变量global可以访问
    Function('console.log(typeof localVal, typeof globalVal);')();
})();
 */

/*  //全局的this（浏览器）：一般指向全局对象就是只想window 例：
 console.log(this.document===document);//true
console.log(this===window);//true
this.a=37;
console.log(window.a);//37
 */

 /* //一般函数的this（浏览器）：一般指向全局对象就是指向window 在nodejs中指向global，在严格模式下默认一般指向undefined 例：
 function f1(){
    return this;
}
console.log(f1()===window);//true,global object

function f2(){//严格模式
    "use strict";
    return this;
}
console.log(f2()===undefined);//true */
/* // 作为对象方法的函数的this
var o={
    prop:37,
    f:function(){
        return this.prop;
    }
};
console.log(o.f());//37

var o={prop:37};
function independent(){
    return this.prop;
}
o.f=independent;
console.log(o.f());//37 */
/* //对象原型链上的对象this可以拿到本身或者原型上的属性跟方法
var o={f:function(){return this.a+this.b}};
var p=Object.create(o);
p.a=1;
p.b=4;
console.log(p.f());//5 */
/* // 构造器中的this this指向构造器中的对象如果有返回对象this指向返回的对象
function  MyClass(){
    this.a=37;
}
var o =new MyClass();
console.log(o.a);//37
function c2(){
    this.a=37;
    return {a:38};
}
o=new c2();
console.log(o.a);//38 */

/* //call/apply方法与this
function add(c,d){
    return this.a+this.b+c+d;
}
var o={a:1,b:3};
console.log(add.call(o,5,7));//16(1+3+5+7)
console.log(add.apply(o,[10,20]));//34(1+3+10+20)
function bar(){
    console.log(Object.prototype.toString.call(this));
}
console.log(bar.call(7)); */

/* //bind方法与this
function f(){
    return this.a;
}
var g=f.bind({a:"test"});
console.log(g());//test
var o={a:37,f:f,g:g};
console.log(o.f(),o.g());//37,trst */
/* //函数属性&arguments
// function foo(x,y,z){
//     console.log(arguments.length);//2
//     console.log(arguments[0]);//1
//     arguments[0]=10;
//     console.log(x);//10
//     arguments[2]=100;
//     console.log(z);//undefined
//     arguments.callee===foo;
// }
// foo(1,2);
// console.log(foo.length);//3
// console.log(foo.name);//"foo"
 */
/*  //apply/call方法（浏览器）
function foo(x,y){
    console.log(x,y,this);
}
foo.call(100,1,2);//1,2,Number(100)
foo.apply(true,[3,4]);//3,4,Boolean(true)
foo.apply(null);//undefined,undefined,window
foo.apply(undefined);//undefined,undefined,window 
function foo(x,y){
    "use strict"
    console.log(x,y,this);
}
foo.apply(null);//undefined,undefined,null
foo.apply(undefined);//undefined,undefined,undefined*/
/* //bind方法
this.x=9;
var module={
    x:81,
    getX:function(){return this.x;}
};
console.log(module.getX());//81
var getX=module.getX;
console.log(getX());//9
var boundGetX=getX.bind(module);
console.log(boundGetX());//81 */
/* //bind与currying
function add(a,b,c){
    return a+b+c;
    }
    var func=add.bind(undefined,100);
    console.log(func(1,2));//103
    var func2=func.bind(undefined,200);
    console.log(func2(10));//310
    function getConfig(colors,size,otherOptions){
        console.log(colors,size,otherOptions);
    }
    var defaultConfig=getConfig.bind(null,"#CC0000","1024*789");
    defaultConfig("123");//#CC0000 1024*789 123
    defaultConfig("456");//#CC0000 1024*789 456 */
//bind与new
function foo(){
    this.b=100;
    return this.a;
    }
    var func=foo.bind({a:1});
    console.log(func());//1
    console.log(new func());//{b:100}
</script>
</body>

</html>